<?xml version="1.0" ?>
<launch>
  <arg name="compressed"       default="false" />
  <arg name="fps"              default="30" />
  <arg name="out_dir"          default="$(optenv HOME /tmp)" />
  <arg name="mount_path"       default="" />
  <arg name="topic"            default="/camera/image_raw" />
  <arg name="video_height"     default="480" />
  <arg name="video_width"      default="640" />
  <arg name="record_metadata"  default="false" />
  <arg name="camera_frame"     default="camera" />

  <group ns="$(arg topic)">
    <node pkg="video_recorder" type="video_recorder_node" name="capture">
      <param name="compressed"       value="$(arg compressed)" />
      <param name="fps"              value="$(arg fps)" />
      <param name="out_dir"          value="$(arg out_dir)" />
      <param name="mount_path"       value="$(arg mount_path)" />
      <param name="topic"            value="$(arg topic)" />
      <param name="output_height"    value="$(arg video_height)" />
      <param name="output_width"     value="$(arg video_width)" />
      <param name="record_metadata"  value="$(arg record_metadata)" />
      <param name="camera_frame"     value="$(arg camera_frame)" />

      <!--
        Optionally specify an absolute maximum duration for video files generated by the node
        Videos that exceed this duration will automatically be stopped
      -->
      <param name="max_duration"  value="0" />
    </node>
  </group>
</launch>
